# FollowYourCanvas runtime configuration

# Where the service listens (keep localhost-only unless you have firewall protections).
FYC_HOST=127.0.0.1
FYC_PORT=8123

# Make the shim importable when launched by systemd.
PYTHONPATH=/var/lib/followyourcanvas/shim

# Required: repo URL for FollowYourCanvas (used by install.sh).
FYC_REPO_URL=https://github.com/mayuelala/FollowYourCanvas.git

# Optional: git ref to checkout (branch, tag, or commit).
FYC_REPO_REF=main

# Command used by systemd to launch the service.
# Default: start the FastAPI shim.
FYC_CMD="/var/lib/followyourcanvas/venv/bin/python -m uvicorn fyc_shim.server:app --host ${FYC_HOST} --port ${FYC_PORT}"

# Shim configuration:
# - If you already run a FollowYourCanvas-compatible HTTP server elsewhere, set FYC_UPSTREAM_BASE_URL to proxy it.
# - Otherwise set FYC_RUN_COMMAND to run inference via subprocess.
FYC_UPSTREAM_BASE_URL=
FYC_RUN_COMMAND="/var/lib/followyourcanvas/venv/bin/python -m fyc_shim.run"
FYC_WORKDIR=/var/lib/followyourcanvas/app
FYC_OUT_DIR=/var/lib/followyourcanvas/out
FYC_MAX_CONCURRENCY=1
FYC_TIMEOUT_SEC=3600

# Subprocess wrapper defaults (used by fyc_shim.run when request payload does not specify these).
# Provide a config path relative to FYC_WORKDIR, e.g. infer-configs/prompt-panda.yaml
FYC_DEFAULT_CONFIG=
FYC_MODE=with_prompt

# Base URL used by the gateway tool wrapper.
FYC_API_BASE_URL=http://127.0.0.1:8123
